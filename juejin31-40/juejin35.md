# 倒排索引交集问题

## 题目描述

小S正在开发一个搜索引擎，需要实现倒排索引的功能。倒排索引是一种常用的搜索引擎索引结构，它的原理是：
- 每个关键词都对应一个包含该关键词的文档ID列表
- 这些ID按照从小到大的顺序排列
- 当用户搜索多个关键词时，需要找出所有包含这些关键词的文档

### 具体要求
给定两个已排序的数组 a 和 b（代表两个关键词的倒排链），找出同时出现在两个数组中的元素（即交集），并按从大到小的顺序返回结果。

### 示例
```python
输入：a = [1, 2, 3, 7], b = [2, 5, 7]
输出：[7, 2]
解释：数组a和b中共同出现的元素是2和7，按从大到小排序后返回[7, 2]

输入：a = [1, 4, 8, 10], b = [2, 4, 8, 10]
输出：[10, 8, 4]
解释：共同元素是4、8、10，按从大到小排序后返回[10, 8, 4]
```

## 解题思路

这道题可以通过以下步骤解决：

1. **使用集合求交集**
   - 将两个输入数组转换为集合（set）
   - 使用集合的交集运算符 `&` 找出共同元素

2. **结果排序**
   - 将交集结果转换为列表
   - 使用 `sorted()` 函数对结果进行降序排序

### 为什么使用集合？
- 集合的交集运算非常高效，时间复杂度为 O(min(len(a), len(b)))
- 集合会自动去重，虽然本题中输入数组已经是无重复的
- 集合的查找操作时间复杂度为 O(1)

## 代码实现

```python
def solution(a, b):
    # 创建两个集合用于存储数字
    set_a = set(a)
    set_b = set(b)
    
    # 找出两个集合的交集
    intersection = set_a & set_b
    
    # 将交集转换为列表并按从大到小排序
    result = sorted(list(intersection), reverse=True)
    
    return result
```

## 复杂度分析

- **时间复杂度**: O(nlogn)
  - 集合转换和交集运算: O(n)
  - 排序操作: O(nlogn)
  - 整体时间复杂度由排序决定，为 O(nlogn)

- **空间复杂度**: O(n)
  - 需要额外的空间存储两个集合和结果列表
  - n 为输入数组中的元素个数

## 测试用例解析

```python
# 测试用例1
输入：a = [1, 2, 3, 7], b = [2, 5, 7]
输出：[7, 2]
分析：2和7同时出现在两个数组中，按从大到小排序

# 测试用例2
输入：a = [1, 4, 8, 10], b = [2, 4, 8, 10]
输出：[10, 8, 4]
分析：4、8、10是共同元素，按从大到小排序

# 测试用例3
输入：a = [3, 5, 9], b = [1, 4, 6]
输出：[]
分析：没有共同元素，返回空列表

# 测试用例4
输入：a = [1, 2, 3], b = [1, 2, 3]
输出：[3, 2, 1]
分析：所有元素都相同，按从大到小排序返回
```

## 注意事项

1. 输入数组已经是排序的，但我们不需要利用这个特性，因为集合操作不依赖于元素顺序
2. 返回结果必须是降序的，所以使用 `sorted()` 时要设置 `reverse=True`
3. 如果没有交集，返回空列表 `[]`

## 扩展思考

如果输入数组非常大，我们可以考虑使用其他方法来优化：
1. 双指针法：利用输入数组已排序的特性
2. 二分查找：对较短的数组中的每个元素在较长的数组中进行二分查找

这些方法在某些情况下可能比使用集合更高效，特别是当一个数组很短而另一个很长时。
