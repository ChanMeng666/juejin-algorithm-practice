# 80百分位数计算问题

## 题目描述

西瓜视频正在开发一个新功能，需要将访问量达到80百分位数以上的视频展示在首页的推荐列表中。你的任务是实现一个程序，计算给定数据中的80百分位数。

### 什么是百分位数？
- 百分位数是一个统计学概念，用于表示数据分布的位置
- 例如：在一个包含100个数的有序数组中，80百分位数就是第80个位置的数
- 具体计算方法：将N个数据从小到大排序后，第N*80%位置处的数据（遇到小数时需要四舍五入）

### 输入格式
- 输入为一个字符串，包含若干个以逗号分隔的整数

### 输出格式
- 输出为一个整数，表示80百分位数的值

### 示例
示例1：
```
输入：data = "10,1,9,2,8,3,7,4,6,5"
输出：8
解释：排序后为[1,2,3,4,5,6,7,8,9,10]，10个数的80%位置是第8个数（索引7），即8
```

示例2：
```
输入：data = "1,0,8,7,3,9,12,6,4,15,17,2,14,5,10,11,19,13,16,18"
输出：15
解释：20个数的80%位置是第16个数
```

## 解题思路

1. 数据预处理
   - 将输入的字符串按逗号分割成字符串数组
   - 将每个字符串转换为整数

2. 排序处理
   - 对整数数组进行升序排序

3. 计算80百分位数位置
   - 获取数组长度n
   - 计算80%位置：n * 0.8
   - 使用round()函数进行四舍五入
   - 由于数组索引从0开始，需要减1

4. 返回结果
   - 返回计算出的位置对应的数值

## 代码实现

```python
def solution(data):
    # 将输入字符串转换为整数列表
    nums = [int(x) for x in data.split(',')]
    
    # 对列表进行排序
    nums.sort()
    
    # 计算80%位置的索引（使用四舍五入）
    n = len(nums)
    index = round(n * 0.8) - 1
    
    # 返回80百分位数
    return nums[index]
```

## 代码详解

1. `data.split(',')`
   - 使用split()方法将输入字符串按逗号分割
   - 返回一个字符串列表

2. `[int(x) for x in data.split(',')]`
   - 使用列表推导式将每个字符串转换为整数
   - 创建一个新的整数列表

3. `nums.sort()`
   - 对整数列表进行原地排序
   - 结果是升序排列的列表

4. `round(n * 0.8) - 1`
   - n * 0.8 计算80%位置
   - round()进行四舍五入
   - 减1是因为列表索引从0开始

## 复杂度分析

- 时间复杂度：O(nlogn)，主要来自排序操作
- 空间复杂度：O(n)，需要存储转换后的整数列表

## 注意事项

1. 输入数据的合法性
   - 确保输入字符串中只包含数字和逗号
   - 确保数字间只有一个逗号分隔

2. 边界情况处理
   - 输入列表长度为1时的处理
   - 80%位置计算时的四舍五入处理

3. 索引计算
   - 注意列表索引从0开始
   - 计算位置时需要减1

